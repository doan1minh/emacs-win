tpmtool(1)                       User Commands                      tpmtool(1)



NNAAMMEE
       ttppmmttooooll - GnuTLS TPM tool

SSYYNNOOPPSSIISS
       ttppmmttooooll [--ffllaaggss] [--ffllaagg [_v_a_l_u_e]] [----ooppttiioonn--nnaammee[[=| ]_v_a_l_u_e]]

       All arguments must be options.


DDEESSCCRRIIPPTTIIOONN
       Program that allows handling cryptographic data from the TPM chip.

OOPPTTIIOONNSS
       --dd _n_u_m_b_e_r, ----ddeebbuugg=_n_u_m_b_e_r
              Enable  debugging.   This  option takes an integer number as its
              argument.  The value of _n_u_m_b_e_r is constrained to being:
                  in the range  0 through 9999

              Specifies the debug level.

       ----iinnffiillee=_f_i_l_e
              Input file.


       ----oouuttffiillee=_s_t_r_i_n_g
              Output file.


       ----ggeenneerraattee--rrssaa
              Generate an RSA private-public key pair.

              Generates an RSA private-public key pair in the TPM chip.  The
              key may be stored in filesystem and protected by a PIN, or
              stored (registered) in the TPM chip flash.

       ----rreeggiisstteerr
              Any generated key will be registered in the TPM.  This option
              must appear in combination with the following options: generate-
              rsa.


       ----ssiiggnniinngg
              Any generated key will be a signing key.  This option must
              appear in combination with the following options: generate-rsa.
              This option must not appear in combination with any of the fol-
              lowing options: legacy.


       ----lleeggaaccyy
              Any generated key will be a legacy key.  This option must appear
              in combination with the following options: generate-rsa.  This
              option must not appear in combination with any of the following
              options: signing.


       ----uusseerr Any registered key will be a user key.  This option must appear
              in combination with the following options: register.  This
              option must not appear in combination with any of the following
              options: system.

              The generated key will be stored in a user specific persistent
              storage.

       ----ssyysstteemm
              Any registred key will be a system key.  This option must appear
              in combination with the following options: register.  This
              option must not appear in combination with any of the following
              options: user.

              The generated key will be stored in system persistent storage.

       ----ppuubbkkeeyy=_u_r_l
              Prints the public key of the provided key.


       ----lliisstt Lists all stored keys in the TPM.


       ----ddeelleettee=_u_r_l
              Delete the key identified by the given URL (UUID)..


       ----sseecc--ppaarraamm=_s_e_c_u_r_i_t_y _p_a_r_a_m_e_t_e_r
              Specify the security level [low, legacy, medium, high, ultra]..

              This is alternative to the bits option. Note however that the
              values allowed by the TPM chip are quantized and given values
              may be rounded up.

       ----bbiittss=_n_u_m_b_e_r
              Specify the number of bits for key generate.  This option takes
              an integer number as its argument.


       ----iinnddeerr, -- FFll --nnoo--iinnddeerr
              Use the DER format for keys..  The _n_o_-_i_n_d_e_r form will disable
              the option.

              The input files will be assumed to be in the portable DER format
              of TPM. The default format is a custom format used by various
              TPM tools

       ----oouuttddeerr, -- FFll --nnoo--oouuttddeerr
              Use DER format for output keys.  The _n_o_-_o_u_t_d_e_r form will disable
              the option.

              The output will be in the TPM portable DER format.

       --hh, ----hheellpp
              Display usage information and exit.

       --!!, ----mmoorree--hheellpp
              Pass the extended usage information through a pager.

       --vv [{_v_|_c_|_n ----vveerrssiioonn [{_v_|_c_|_n}]}]
              Output version of program and exit.  The default mode is `v', a
              simple version.  The `c' mode will print copyright information
              and `n' will print the full copyright notice.

EEXXAAMMPPLLEESS
       To generate a key that is to be stored in filesystem use:
           $ tpmtool --generate-rsa --bits 2048 --outfile tpmkey.pem

       To generate a key that is to be stored in TPM's flash use:
           $ tpmtool --generate-rsa --bits 2048 --register --user

       To get the public key of a TPM key use:
           $ tpmtool --pubkey tpmkey:uuid=58ad734b-bde6-45c7-89d8-756a55ad1891;storage=user           --outfile pubkey.pem

       or if the key is stored in the filesystem:
           $ tpmtool --pubkey tpmkey:file=tmpkey.pem --outfile pubkey.pem

       To list all keys stored in TPM use:
           $ tpmtool --list

EEXXIITT SSTTAATTUUSS
       One of the following exit values will be returned:

       0  (EXIT_SUCCESS)
              Successful program execution.

       1  (EXIT_FAILURE)
              The operation failed or the command syntax was not valid.

       70  (EX_SOFTWARE)
              libopts had an internal operational error.  Please report it to
              autogen-users@lists.sourceforge.net.  Thank you.

SSEEEE AALLSSOO
           p11tool (1), certtool (1)

AAUUTTHHOORRSS
       Nikos Mavrogiannopoulos, Simon Josefsson and others; see
       /usr/share/doc/gnutls/AUTHORS for a complete list.

CCOOPPYYRRIIGGHHTT
       Copyright (C) 2000-2014 Free Software Foundation, and others all rights
       reserved.  This program is released under the terms of the GNU General
       Public License, version 3 or later.

BBUUGGSS
       Please send bug reports to: bugs@gnutls.org

NNOOTTEESS
       This manual page was _A_u_t_o_G_e_n-erated from the ttppmmttooooll option defini-
       tions.



3.3.11                            11 Dec 2014                       tpmtool(1)
